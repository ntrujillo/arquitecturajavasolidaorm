<?xml version="1.0"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<f:view>
    <body>
    <h:form>


        <h:selectOneMenu id="combo"
                         valueChangeListener="#{formularioLibroManagedBean.filtrar}"
                         value="#{formularioLibroManagedBean.categoria}" onchange="submit()">
            <f:selectItem itemValue="0" itemLabel="seleccionar"/>
            <f:selectItems
                    value="#{formularioLibroManagedBean.listaDeCategorias}"/>
        </h:selectOneMenu>


        <h:dataTable id="tabla"
                     value="#{formularioLibroManagedBean.listaDeLibros}"
                     var="libro">
            <h:column>
                #{libro.isbn}
            </h:column>
            <h:column>
                #{libro.titulo}
            </h:column>
            <h:column>
                #{libro.categoria.descripcion}
            </h:column>
            <h:column>
                <h:commandLink value="borrar"
                               actionListener="#{formularioLibroManagedBean.borrar}">
                    <f:attribute name="isbn" value="#{libro.isbn}"/>
                </h:commandLink>
            </h:column>
            <h:column>
                <h:commandLink value="editar"
                               actionListener="#{formularioLibroManagedBean.editar}"
                               action="FormularioEditarLibro">
                    <f:attribute name="isbn" value="#{libro.isbn}"/>
                </h:commandLink>
            </h:column>
        </h:dataTable>
        <h:commandButton
                actionListener="#{formularioLibroManagedBean.formularioInsertar}"
                action="FormularioInsertarLibro" value="insertar"/>

    </h:form>
    </body>
</f:view>

</html>